\documentclass[crop,tikz]{standalone}

\usepackage{../../../supplementary/header/header_pgfplot_standalone}

\pgfplotsset{compat=newest,
			xtick pos=left,
			ytick pos=left
			}

\begin{document}
\begin{tikzpicture}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{axis}[
%Domain
	xmin=1990,xmax=2020,
	ymin=0,ymax=16000,
%Ticks
	xtick distance=5,
	minor x tick num=4,
	/pgf/number format/1000 sep={},
	ytick={5000,10000,15000},
	yticklabels={5000,10000,15000},
%Size
	height=5.5cm,
	width=10cm,
%Axis Labels
	ylabel style={align=center},
	ylabel=Million Installed Lamps,
	scaled y ticks=false,
%Stacking
	stack plots=y,
	every axis plot/.append style={
            % add the fill color to each `\addplot`
            % (`.` is an abbreviation for the "current color")
            fill=.,
        },
%Legend
	legend pos=north west,
	legend entries={LED, ,Fluorescent, , Incandescent, , Halogen, },
	legend cell align={left},
	legend style={draw=none},
			]
\addplot [area legend, cyan]
	table [col sep=comma, x=year, y=LEDlumi]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, cyan]
	table [col sep=comma, x=year, y=LEDretro]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, blue]
	table [col sep=comma, x=year, y=LFL]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, blue]
	table [col sep=comma, x=year, y=CFL]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, purple]
	table [col sep=comma, x=year, y=GLSstor]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, purple]
	table [col sep=comma, x=year, y=HID]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, magenta]
	table [col sep=comma, x=year, y=HLstor]
	{../data/EU2020.csv} \closedcycle;
\addplot [area legend, magenta]
	table [col sep=comma, x=year, y=Tungsten]
	{../data/EU2020.csv} \closedcycle;
\end{axis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{tikzpicture}
\end{document}
