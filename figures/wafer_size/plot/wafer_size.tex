\documentclass[crop]{standalone}

\usepackage[dvipsnames]{xcolor} % For additional colors, must be loaded before tikz

\usepackage{../../../supplementary/header/header_pgfplot_standalone}


\pgfplotsset{compat=newest,
			xtick pos=left,
			ytick pos=left
			}

\begin{document}
\begin{tikzpicture}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{axis}[
%Grouping
	name=top,
	at={(0,0)},
%Size
	height=5cm,
	width=10cm,
%Domain
	xmin=2007.5,xmax=2020.5,
	ymin=0,ymax=100,
%Type
	ybar stacked,
	bar width=10pt,
	axis on top,
%Ticks
	xticklabels={,,},
	yticklabels={20,40,60,80,100},
	ytick={20,40,60,80,100},
	/pgf/number format/1000 sep={},
%Axis Labels
	ylabel style={align=center},
	ylabel={50mm Equivalent},
			]
\addplot [ybar,draw=RoyalBlue,fill=RoyalBlue!30]
	table [col sep=comma, x=year, y=2]
	{../data/yole_data.csv};
\addplot [ybar,draw=Blue,fill=Blue!30]
	table [col sep=comma, x=year, y=4]
	{../data/yole_data.csv};
\addplot [ybar,draw=CadetBlue,fill=CadetBlue!30]
	table [col sep=comma, x=year, y=6]
	{../data/yole_data.csv};
\addplot [ybar,draw=RedViolet,fill=RedViolet!30]
	table [col sep=comma, x=year, y=8]
	{../data/yole_data.csv};
%
\addplot [ybar,draw=RoyalBlue,fill=RoyalBlue!10]
	table [col sep=comma, x=year, y=2]
	{../data/yole_projection.csv};
\addplot [ybar,draw=Blue,fill=Blue!10]
	table [col sep=comma, x=year, y=4]
	{../data/yole_projection.csv};
\addplot [ybar,draw=CadetBlue,fill=CadetBlue!10]
	table [col sep=comma, x=year, y=6]
	{../data/yole_projection.csv};
\addplot [ybar,draw=RedViolet,fill=RedViolet!10]
	table [col sep=comma, x=year, y=8]
	{../data/yole_projection.csv};
\end{axis}

\begin{axis}[
%Grouping
	name=bottom,
	at={(0,-5)},
	anchor=north west,
%Size
	height=5cm,
	width=10cm,
%Domain
	xmin=2007.5,xmax=2020.5,
	ymin=0,ymax=100,
%Type
	ybar stacked,
	bar width=10pt,
	axis on top,
%Ticks
	/pgf/number format/1000 sep={},
%Axis Labels
	ylabel style={align=center},
	ylabel={\% of Systems},
%Legend
	legend entries={50mm (2 Inch), 75mm (3 Inch), 100mm (4 Inch), 150mm (6 Inch), 200mm (8 Inch)},
	legend cell align={left},
	legend pos=south east,
			]
\addplot [ybar,draw=RoyalBlue,fill=RoyalBlue!30]
	table [col sep=comma, x=year, y=2]
	{../data/veeco_data.csv};
\addplot [ybar,draw=Blue,fill=Blue!30]
	table [col sep=comma, x=year, y=3]
	{../data/veeco_data.csv};
\addplot [ybar,draw=Gray,fill=Gray!30]
	table [col sep=comma, x=year, y=4]
	{../data/veeco_data.csv};
\addplot [ybar,draw=CadetBlue,fill=CadetBlue!30]
	table [col sep=comma, x=year, y=6]
	{../data/veeco_data.csv};
\addplot [ybar,draw=RedViolet,fill=RedViolet!30]
	table [col sep=comma, x=year, y=8]
	{../data/veeco_data.csv};
	%
\addplot [ybar,draw=RoyalBlue,fill=RoyalBlue!10]
	table [col sep=comma, x=year, y=2]
	{../data/veeco_projection.csv};
\addplot [ybar,draw=Blue,fill=Blue!10]
	table [col sep=comma, x=year, y=3]
	{../data/veeco_projection.csv};
\addplot [ybar,draw=Gray,fill=Gray!10]
	table [col sep=comma, x=year, y=4]
	{../data/veeco_projection.csv};
\addplot [ybar,draw=CadetBlue,fill=CadetBlue!10]
	table [col sep=comma, x=year, y=6]
	{../data/veeco_projection.csv};
\end{axis}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{tikzpicture}
\end{document}
